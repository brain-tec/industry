<?xml version='1.0' encoding='UTF-8'?>
<odoo>
    <record id="action_progress_view" model="ir.actions.act_window">
        <field name="name">Progress</field>
        <field name="res_model">sale.order.line</field>
        <field name="view_mode">list</field>
        <field name="domain">[('order_id.project_id','=', active_id)]</field>
    </record>

    <record id="action_window_work_items" model="ir.actions.act_window">
        <field name="name">Work Items</field>
        <field name="domain">[('x_is_template', '=', True)]</field>
        <field name="res_model">x_work_item</field>
        <field name="context">{'search_default_x_active': True}</field>
    </record>
    <record id="action_window_add_work_item" model="ir.actions.act_window">
        <field name="name">Add Work Item</field>
        <field name="domain">[('x_active', '=', True),('x_is_template', '=', True)]</field>
        <field name="res_model">x_work_item</field>
        <field name="view_mode">form</field>
        <field name="target">new</field>
        <field name="context">{'default_x_is_template': False, 'default_x_targeted_so_id': context.get('so_id')}</field>
    </record>
<!-- remark -->
    <record id="action_project_x_remark_kanban_view" model="ir.actions.act_window">
        <field name="name">Remarks</field>
        <field name="res_model">x_remark</field>
        <field name="domain">[('x_project_id', '=', active_id)]</field>
        <!-- 
            default_x_project_id: for the remark's x_project_id
            default_x_project_ids: to assign the current project when quick creating stages in kanban view
        -->
        <field name="context">{
            'search_default_open_remarks': 1,
            'default_x_project_id': active_id,
            'default_x_project_ids': [active_id],
            'force_open_attachments': 1,
        }</field>
        <field name="view_mode">kanban,list,form</field>
        <field name="help"><![CDATA[
            <p class="o_view_nocontent_smiling_face">
                No remarks, let's create one!
            </p>
        ]]></field>
    </record>
    <record id="menu_action_project_x_remark_kanban_view" model="ir.actions.act_window">
        <field name="name">Remarks</field>
        <field name="res_model">x_remark</field>
        <field name="view_mode">list,form</field>
        <field name="context" eval="{
            'search_default_open_remarks': 1,
            'force_open_attachments': 1,
        }"/>
        <field name="help"><![CDATA[
            <p class="o_view_nocontent_smiling_face">
                No remarks, let's create one!
            </p>
        ]]></field>
    </record>
<!-- remark category -->
    <record id="menu_action_x_remark_category_list_view" model="ir.actions.act_window">
        <field name="name">Remark Categories</field>
        <field name="res_model">x_remark_category</field>
        <field name="view_mode">list,form</field>
    </record>
<!-- remark stage -->
    <record id="menu_action_x_remark_stage_list_view" model="ir.actions.act_window">
        <field name="name">Remark Stages</field>
        <field name="res_model">x_remark_stage</field>
        <field name="view_mode">list,form</field>
    </record>
</odoo>
